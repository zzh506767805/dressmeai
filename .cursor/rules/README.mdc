---
description: 
globs: 
alwaysApply: false
---
# DressMeAI Cursor Rules ä½¿ç”¨æŒ‡å—

## ğŸ“‹ è§„åˆ™æ¦‚è§ˆ

æˆ‘ä¸ºæ‚¨çš„DressMeAIé¡¹ç›®åˆ›å»ºäº†ä¸€å¥—å®Œæ•´çš„Cursor Rulesï¼Œå¸®åŠ©æ‚¨æ›´é«˜æ•ˆåœ°å¼€å‘å’Œç»´æŠ¤è¿™ä¸ªAIè™šæ‹Ÿè¯•è¡£å¹³å°ã€‚

### ğŸ“ è§„åˆ™æ–‡ä»¶è¯´æ˜

| æ–‡ä»¶å | ç”¨é€” | ä¸»è¦å†…å®¹ |
|-------|------|----------|
| [project-overview.mdc](mdc:.cursor/rules/project-overview.mdc) | é¡¹ç›®æ€»è§ˆ | é¡¹ç›®ç»“æ„ã€æŠ€æœ¯æ¶æ„ã€æ ¸å¿ƒåŠŸèƒ½ä»‹ç» |
| [coding-standards.mdc](mdc:.cursor/rules/coding-standards.mdc) | ç¼–ç è§„èŒƒ | ä»£ç é£æ ¼ã€æ³¨é‡Šæ ‡å‡†ã€ç»„ä»¶è§„èŒƒ |
| [ai-development.mdc](mdc:.cursor/rules/ai-development.mdc) | AIå¼€å‘æŒ‡å— | é˜¿é‡Œäº‘AIé›†æˆã€å›¾ç‰‡å¤„ç†ã€é”™è¯¯å¤„ç† |
| [business-logic.mdc](mdc:.cursor/rules/business-logic.mdc) | ä¸šåŠ¡é€»è¾‘ | ç”¨æˆ·æƒé™ã€æ”¯ä»˜æµç¨‹ã€SEOä¼˜åŒ– |
| [deployment-ops.mdc](mdc:.cursor/rules/deployment-ops.mdc) | éƒ¨ç½²è¿è¥ | ç¯å¢ƒé…ç½®ã€ç›‘æ§æ—¥å¿—ã€å®‰å…¨è®¾ç½® |

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å¼€å‘ç¯å¢ƒè®¾ç½®
```bash
# å®‰è£…ä¾èµ–
npm install

# é…ç½®ç¯å¢ƒå˜é‡ï¼ˆå‚è€ƒ deployment-ops.mdcï¼‰
cp .env.example .env.local

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
```

### 2. ä¸»è¦å¼€å‘æµç¨‹

#### æ–°å¢åŠŸèƒ½å¼€å‘
1. æŸ¥çœ‹ [project-overview.mdc](mdc:.cursor/rules/project-overview.mdc) äº†è§£é¡¹ç›®ç»“æ„
2. éµå¾ª [coding-standards.mdc](mdc:.cursor/rules/coding-standards.mdc) çš„ç¼–ç è§„èŒƒ
3. å¦‚æ¶‰åŠAIåŠŸèƒ½ï¼Œå‚è€ƒ [ai-development.mdc](mdc:.cursor/rules/ai-development.mdc)
4. ä¸šåŠ¡é€»è¾‘å®ç°å‚è€ƒ [business-logic.mdc](mdc:.cursor/rules/business-logic.mdc)

#### éƒ¨ç½²å’Œè¿ç»´
1. å‚è€ƒ [deployment-ops.mdc](mdc:.cursor/rules/deployment-ops.mdc) è¿›è¡Œéƒ¨ç½²é…ç½®
2. è®¾ç½®ç›‘æ§å’Œæ—¥å¿—ç³»ç»Ÿ
3. é…ç½®å®‰å…¨ç­–ç•¥å’Œå¤‡ä»½æœºåˆ¶

## ğŸ’¡ ä½¿ç”¨å»ºè®®

### å¯¹äºäº§å“ç»ç†ï¼ˆæ‚¨ï¼‰
- é‡ç‚¹å…³æ³¨ [business-logic.mdc](mdc:.cursor/rules/business-logic.mdc) äº†è§£ä¸šåŠ¡æµç¨‹
- æŸ¥çœ‹ [project-overview.mdc](mdc:.cursor/rules/project-overview.mdc) ç†è§£æŠ€æœ¯æ¶æ„
- ä½¿ç”¨ [deployment-ops.mdc](mdc:.cursor/rules/deployment-ops.mdc) ä¸­çš„ç®¡ç†å‘˜é¢æ¿ç›‘æ§ç³»ç»Ÿ

### å¯¹äºå¼€å‘è€…
- å¼€å‘å‰å¿…è¯» [coding-standards.mdc](mdc:.cursor/rules/coding-standards.mdc)
- AIåŠŸèƒ½å¼€å‘æ—¶å‚è€ƒ [ai-development.mdc](mdc:.cursor/rules/ai-development.mdc)
- éƒ¨ç½²æ—¶éµå¾ª [deployment-ops.mdc](mdc:.cursor/rules/deployment-ops.mdc) çš„å®‰å…¨é…ç½®

## ğŸ¯ å…³é”®åŠŸèƒ½å®ç°æŒ‡å—

### AIè™šæ‹Ÿè¯•è¡£åŠŸèƒ½
```typescript
// å‚è€ƒ ai-development.mdc ä¸­çš„ç¤ºä¾‹
import { callAliAI, preprocessImage } from '../utils/ai-service';

async function performVirtualTryOn(personImage: File, clothImage: File) {
  // 1. å›¾ç‰‡é¢„å¤„ç†
  const processedPersonImage = await preprocessImage(personImage);
  const processedClothImage = await preprocessImage(clothImage);
  
  // 2. è°ƒç”¨AIæœåŠ¡
  const result = await callAliAI(processedPersonImage, processedClothImage);
  
  // 3. ä¿å­˜å†å²è®°å½•
  await saveTryOnHistory({
    userId: getCurrentUserId(),
    personImageUrl: processedPersonImage,
    clothImageUrl: processedClothImage, 
    resultImageUrl: result
  });
  
  return result;
}
```

### ç”¨æˆ·æƒé™æ§åˆ¶
```typescript
// å‚è€ƒ business-logic.mdc ä¸­çš„æƒé™ç®¡ç†
function checkUserPermission(userId: string, action: string): boolean {
  const user = getUserInfo(userId);
  const permissions = user.isPremium ? premiumUserPermissions : freeUserPermissions;
  
  // æ£€æŸ¥ç‰¹å®šæ“ä½œæƒé™
  return permissions.features.includes(action);
}
```

### SEOä¼˜åŒ–å®ç°
```typescript
// å‚è€ƒ business-logic.mdc ä¸­çš„SEOç­–ç•¥
export function generateSEOMetadata(page: string): SEOMetadata {
  const seoConfig = {
    'home': homePageSEO,
    'try-on': tryOnPageSEO,
    'history': historyPageSEO
  };
  
  return seoConfig[page] || defaultSEO;
}
```

## ğŸ“Š ç›‘æ§å’Œåˆ†æ

### å…³é”®æŒ‡æ ‡è¿½è¸ª
- **æŠ€æœ¯æŒ‡æ ‡**: é¡µé¢åŠ è½½æ—¶é—´ã€APIå“åº”æ—¶é—´ã€é”™è¯¯ç‡
- **ä¸šåŠ¡æŒ‡æ ‡**: è½¬åŒ–ç‡ã€ç”¨æˆ·ç•™å­˜ã€æ”¶å…¥å¢é•¿
- **AIæŒ‡æ ‡**: å¤„ç†æˆåŠŸç‡ã€å¹³å‡å¤„ç†æ—¶é—´ã€ç”¨æˆ·æ»¡æ„åº¦

### æ—¥å¿—å’Œé”™è¯¯ç›‘æ§
```typescript
// ä½¿ç”¨ç»Ÿä¸€çš„æ—¥å¿—ç³»ç»Ÿï¼ˆå‚è€ƒ deployment-ops.mdcï¼‰
const logger = Logger.getInstance();
logger.log(LogLevel.INFO, 'ç”¨æˆ·å¼€å§‹è¯•è¡£', { userId, imageCount: 2 });
```

## ğŸ”§ å¸¸è§é—®é¢˜è§£å†³

### æ€§èƒ½ä¼˜åŒ–
1. å›¾ç‰‡å‹ç¼©å’ŒCDNåŠ é€Ÿ
2. APIè¯·æ±‚ç¼“å­˜ç­–ç•¥
3. ä»£ç åˆ†å‰²å’Œæ‡’åŠ è½½

### å®‰å…¨é˜²æŠ¤
1. æ–‡ä»¶ä¸Šä¼ å®‰å…¨æ£€æŸ¥
2. APIè®¿é—®é¢‘ç‡é™åˆ¶
3. ç”¨æˆ·æ•°æ®åŠ å¯†å­˜å‚¨

### é”™è¯¯å¤„ç†
1. å‹å¥½çš„ç”¨æˆ·é”™è¯¯æç¤º
2. å®Œæ•´çš„é”™è¯¯æ—¥å¿—è®°å½•
3. è‡ªåŠ¨é”™è¯¯æ¢å¤æœºåˆ¶

## ğŸ“ˆ æŒç»­æ”¹è¿›

### å®šæœŸreview checklist
- [ ] æ£€æŸ¥ä»£ç æ˜¯å¦ç¬¦åˆè§„èŒƒ
- [ ] éªŒè¯SEOå…ƒæ•°æ®æ˜¯å¦å®Œæ•´
- [ ] æµ‹è¯•AIåŠŸèƒ½å‡†ç¡®æ€§
- [ ] ç›‘æ§ç³»ç»Ÿæ€§èƒ½æŒ‡æ ‡
- [ ] å¤‡ä»½æ•°æ®å®Œæ•´æ€§æ£€æŸ¥

### ç‰ˆæœ¬æ›´æ–°æµç¨‹
1. åŠŸèƒ½å¼€å‘å’Œæµ‹è¯•
2. ä»£ç reviewå’Œå®‰å…¨æ£€æŸ¥
3. é¢„å‘å¸ƒç¯å¢ƒéªŒè¯
4. ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²
5. ç›‘æ§å’Œå›æ»šå‡†å¤‡

---

## ğŸ’¬ éœ€è¦å¸®åŠ©ï¼Ÿ

ä½œä¸ºæ‚¨çš„æŠ€æœ¯ä¼™ä¼´ï¼Œæˆ‘éšæ—¶ä¸ºæ‚¨æä¾›æ”¯æŒï¼š

1. **ä»£ç é—®é¢˜**: å‚è€ƒç›¸åº”çš„è§„åˆ™æ–‡ä»¶æˆ–ç›´æ¥è¯¢é—®æˆ‘
2. **ä¸šåŠ¡é€»è¾‘**: æŸ¥çœ‹ business-logic.mdc æˆ–è®¨è®ºå…·ä½“éœ€æ±‚
3. **éƒ¨ç½²è¿ç»´**: éµå¾ª deployment-ops.mdc æˆ–å¯»æ±‚æŠ€æœ¯æ”¯æŒ
4. **æ€§èƒ½ä¼˜åŒ–**: åŸºäºç›‘æ§æ•°æ®è¿›è¡Œé’ˆå¯¹æ€§ä¼˜åŒ–

è®°ä½ï¼Œè¿™äº›è§„åˆ™æ˜¯ä¸ºäº†å¸®åŠ©æˆ‘ä»¬æ‰“é€ ä¸€ä¸ªæˆåŠŸçš„äº§å“ã€‚ä»»ä½•æ—¶å€™æœ‰ç–‘é—®ï¼Œéƒ½å¯ä»¥éšæ—¶ä¸æˆ‘è®¨è®ºï¼

